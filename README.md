# Backend (API)

Backend —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ **FastAPI** –∏ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∫–æ—Ä–∑–∏–Ω–æ–π.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

* **Python**
* **FastAPI**
* **PostgreSQL**
* **SQLAlchemy (ORM)**
* **Docker / Docker Compose**



## –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### –ü–æ–ª–Ω—ã–π –∑–∞–ø—É—Å–∫ (backend + –ë–î)

```bash
docker compose up -d
```

### –ó–∞–ø—É—Å–∫ –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏

```bash
docker compose up -d pg
docker compose up backend
```

## –ó–∞–ø—É—Å–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

–î–ª—è —Ç–µ—Å—Ç–æ–≤ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥–Ω—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

```bash
docker compose up -d test_pg
```

–ò —É–∫–∞–∑–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:

```yaml
test_pg:
  image: postgres:16
  environment:
    POSTGRES_USER: ""
    POSTGRES_PASSWORD: ""
    POSTGRES_DB: ""
    TZ: Asia/Almaty
  ports:
    - "5433:5432"
```

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –≤ `.env` —Ñ–∞–π–ª–µ.

## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–µ —Å—Ä–æ–∫–∏, –ø–æ—ç—Ç–æ–º—É –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (JWT) –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –Ω–µ –≤–∫–ª—é—á–µ–Ω—ã.


### –°–æ–∑–¥–∞–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å—Ä–∞–∑—É

–î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ —è –Ω–∞–ø–∏—Å–∞–ª —ç–Ω–¥–ø–æ–π–Ω—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–¥—É–∫—Ç–æ–≤ —Å–ø–∏—Å–∫–æ–º (POST /products/bulk) 
–∏ "–Ω–∞–ø–∏—Å–∞–ª" (–≤ –∫–∞–≤—ã—á–∫–∞—Ö) –º–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

```json
[
  {
    "name": "–ë–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–∞—è –º—ã—à—å",
    "description": "–≠—Ä–≥–æ–Ω–æ–º–∏—á–Ω–∞—è –±–µ—Å–ø—Ä–æ–≤–æ–¥–Ω–∞—è –º—ã—à—å —Å —Ä–µ–≥—É–ª–∏—Ä—É–µ–º—ã–º DPI",
    "price": 2599,
    "category": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"
  },
  {
    "name": "–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞",
    "description": "–ú–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∞—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∏ —Å–∏–Ω–∏–º–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—è–º–∏",
    "price": 8950,
    "category": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"
  },
  {
    "name": "–ó–∞—Ä—è–¥–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ USB-C",
    "description": "–ë—ã—Å—Ç—Ä–æ–µ –∑–∞—Ä—è–¥–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ USB-C –º–æ—â–Ω–æ—Å—Ç—å—é 65 –í—Ç",
    "price": 3999,
    "category": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"
  },
  {
    "name": "–ù–∞—É—à–Ω–∏–∫–∏ —Å —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º",
    "description": "–ü–æ–ª–Ω–æ—Ä–∞–∑–º–µ—Ä–Ω—ã–µ –Ω–∞—É—à–Ω–∏–∫–∏ —Å –∞–∫—Ç–∏–≤–Ω—ã–º —à—É–º–æ–ø–æ–¥–∞–≤–ª–µ–Ω–∏–µ–º",
    "price": 14999,
    "category": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"
  },
  {
    "name": "–£–º–Ω—ã–µ —á–∞—Å—ã",
    "description": "–§–∏—Ç–Ω–µ—Å-—á–∞—Å—ã —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –ø—É–ª—å—Å–∞",
    "price": 19900,
    "category": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞"
  },
  {
    "name": "–û—Ñ–∏—Å–Ω–æ–µ –∫—Ä–µ—Å–ª–æ",
    "description": "–≠—Ä–≥–æ–Ω–æ–º–∏—á–Ω–æ–µ –æ—Ñ–∏—Å–Ω–æ–µ –∫—Ä–µ—Å–ª–æ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–æ—è—Å–Ω–∏—Ü—ã",
    "price": 17999,
    "category": "–ú–µ–±–µ–ª—å"
  },
  {
    "name": "–°—Ç–æ–ª —Å —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–æ–π –≤—ã—Å–æ—Ç—ã",
    "description": "–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç—ã —Å—Ç–æ—è",
    "price": 39900,
    "category": "–ú–µ–±–µ–ª—å"
  },
  {
    "name": "–ù–∞—Å—Ç–æ–ª—å–Ω–∞—è –ª–∞–º–ø–∞",
    "description": "LED-–ª–∞–º–ø–∞ —Å —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–æ–π —è—Ä–∫–æ—Å—Ç–∏ –∏ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã —Å–≤–µ—Ç–∞",
    "price": 2999,
    "category": "–ú–µ–±–µ–ª—å"
  },
  {
    "name": "–ë–ª–æ–∫–Ω–æ—Ç",
    "description": "–¢–≤—ë—Ä–¥—ã–π –±–ª–æ–∫–Ω–æ—Ç –≤ –ª–∏–Ω–µ–π–∫—É –Ω–∞ 200 —Å—Ç—Ä–∞–Ω–∏—Ü",
    "price": 750,
    "category": "–ö–∞–Ω—Ü–µ–ª—è—Ä–∏—è"
  },
  {
    "name": "–ù–∞–±–æ—Ä —à–∞—Ä–∏–∫–æ–≤—ã—Ö —Ä—É—á–µ–∫",
    "description": "–ù–∞–±–æ—Ä –∏–∑ 10 —à–∞—Ä–∏–∫–æ–≤—ã—Ö —Ä—É—á–µ–∫ —Å –ø–ª–∞–≤–Ω—ã–º –ø–∏—Å—å–º–æ–º",
    "price": 599,
    "category": "–ö–∞–Ω—Ü–µ–ª—è—Ä–∏—è"
  },
  {
    "name": "–ë—É—Ç—ã–ª–∫–∞ –¥–ª—è –≤–æ–¥—ã",
    "description": "–¢–µ—Ä–º–æ–±—É—Ç—ã–ª–∫–∞ –∏–∑ –Ω–µ—Ä–∂–∞–≤–µ—é—â–µ–π —Å—Ç–∞–ª–∏, 750 –º–ª",
    "price": 2200,
    "category": "–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã"
  },
  {
    "name": "–†—é–∫–∑–∞–∫",
    "description": "–ü—Ä–æ—á–Ω—ã–π —Ä—é–∫–∑–∞–∫ —Å –æ—Ç–¥–µ–ª–µ–Ω–∏–µ–º –¥–ª—è –Ω–æ—É—Ç–±—É–∫–∞",
    "price": 5999,
    "category": "–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã"
  },
  {
    "name": "–ö—Ä–æ—Å—Å–æ–≤–∫–∏ –¥–ª—è –±–µ–≥–∞",
    "description": "–õ—ë–≥–∫–∏–µ –∫—Ä–æ—Å—Å–æ–≤–∫–∏ –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫",
    "price": 12000,
    "category": "–°–ø–æ—Ä—Ç"
  },
  {
    "name": "–ö–æ–≤—Ä–∏–∫ –¥–ª—è –π–æ–≥–∏",
    "description": "–ù–µ—Å–∫–æ–ª—å–∑—è—â–∏–π –∫–æ–≤—Ä–∏–∫ —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∞–º–æ—Ä—Ç–∏–∑–∞—Ü–∏–µ–π",
    "price": 3499,
    "category": "–°–ø–æ—Ä—Ç"
  },
  {
    "name": "–ù–∞–±–æ—Ä –≥–∞–Ω—Ç–µ–ª–µ–π",
    "description": "–†–µ–≥—É–ª–∏—Ä—É–µ–º—ã–π –Ω–∞–±–æ—Ä –≥–∞–Ω—Ç–µ–ª–µ–π –¥–ª—è –¥–æ–º–∞—à–Ω–∏—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫",
    "price": 8999,
    "category": "–°–ø–æ—Ä—Ç"
  },
  {
    "name": "–ö–æ—Ñ–µ–≤–∞—Ä–∫–∞",
    "description": "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–∞–ø–µ–ª—å–Ω–∞—è –∫–æ—Ñ–µ–≤–∞—Ä–∫–∞ —Å —Ç–∞–π–º–µ—Ä–æ–º",
    "price": 7900,
    "category": "–ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞"
  },
  {
    "name": "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —á–∞–π–Ω–∏–∫",
    "description": "–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π —á–∞–π–Ω–∏–∫ 1.7 –ª —Å –∞–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏–µ–º",
    "price": 4500,
    "category": "–ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞"
  },
  {
    "name": "–ë–ª–µ–Ω–¥–µ—Ä",
    "description": "–í—ã—Å–æ–∫–æ—Å–∫–æ—Ä–æ—Å—Ç–Ω–æ–π –±–ª–µ–Ω–¥–µ—Ä –¥–ª—è —Å–º—É–∑–∏ –∏ —Å—É–ø–æ–≤",
    "price": 9999,
    "category": "–ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞"
  },
  {
    "name": "–ù–∞–±–æ—Ä –ø–æ—Å—É–¥—ã",
    "description": "–ù–∞–±–æ—Ä –∞–Ω—Ç–∏–ø—Ä–∏–≥–∞—Ä–Ω–æ–π –ø–æ—Å—É–¥—ã –∏–∑ 10 –ø—Ä–µ–¥–º–µ—Ç–æ–≤",
    "price": 15900,
    "category": "–ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞"
  },
  {
    "name": "–¢–æ—Å—Ç–µ—Ä",
    "description": "–î–≤—É—Ö—Å–ª–æ—Ç–æ–≤—ã–π —Ç–æ—Å—Ç–µ—Ä —Å —Ä–µ–≥—É–ª–∏—Ä–æ–≤–∫–æ–π —Å—Ç–µ–ø–µ–Ω–∏ –ø–æ–¥–∂–∞—Ä–∫–∏",
    "price": 3200,
    "category": "–ë—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞"
  }
]

```


## üì¶ –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª API

### –¢–æ–≤–∞—Ä—ã

* –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤
  `GET /api/products/`

  * —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ —Ü–µ–Ω–∞–º
  * –ø–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—é
  * —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ (—Ü–µ–Ω–∞, –Ω–∞–∑–≤–∞–Ω–∏–µ)
  * –ø–∞–≥–∏–Ω–∞—Ü–∏—è (limit / offset)

* –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–≤–∞—Ä–µ
  `GET /api/products/{product_id}/`

### –ö–æ—Ä–∑–∏–Ω–∞

* –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É
  `POST /api/cart/`

* –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –∫–æ—Ä–∑–∏–Ω—ã –∏ –æ–±—â–µ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏
  `GET /api/cart/`

* –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Ç–æ–≤–∞—Ä–∞
  `PUT /api/cart/{item_id}/`

* –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –∏–∑ –∫–æ—Ä–∑–∏–Ω—ã
  `DELETE /api/cart/{item_id}/`

## üóÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

* **Product**

  * id
  * name
  * description
  * price
  * image
  * category

* **Cart**

  * id
  * session_id
  * items

* **CartItem**

  * id
  * product
  * quantity

## ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

* –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
* –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ HTTP-—Å—Ç–∞—Ç—É—Å–æ–≤
* Swagger-–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (FastAPI)
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ CORS –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å frontend
